{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\uAE40\\uC544\\uB984/Desktop/index/instagram/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\uAE40\\uC544\\uB984/Desktop/index/instagram/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";export var authAxios=axios.create({baseURL:\"http://101.101.218.43\"});var token=localStorage.getItem(\"access-token\");console.log(token);if(token){authAxios.defaults.headers.Authorization=\"Bearer \".concat(token);}// src/api/auth.js\nexport var signUpUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(form){var _yield$authAxios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authAxios.post(\"users\",form);case 3:_yield$authAxios$post=_context.sent;data=_yield$authAxios$post.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert(\"회원가입에 실패했습니다.\");case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function signUpUser(_x){return _ref.apply(this,arguments);};}();export var signIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(form){var _yield$authAxios$post2,data,_token;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return authAxios.post(\"users/signin\",form);case 3:_yield$authAxios$post2=_context2.sent;data=_yield$authAxios$post2.data;_token=data.token;localStorage.setItem(\"access-token\",_token);authAxios.defaults.headers.Authorization=\"Bearer \".concat(_token);return _context2.abrupt(\"return\",{success:true});case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);alert(\"로그인에 실패했습니다.\");case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function signIn(_x2){return _ref2.apply(this,arguments);};}();export var getCurrentUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$authAxios$get,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return authAxios.get(\"/users/current\");case 2:_yield$authAxios$get=_context3.sent;data=_yield$authAxios$get.data;return _context3.abrupt(\"return\",data);case 5:case\"end\":return _context3.stop();}},_callee3);}));return function getCurrentUser(){return _ref3.apply(this,arguments);};}();export var patchProfile=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(form){var _yield$authAxios$patc,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return authAxios.patch(\"/users/profile\",form);case 2:_yield$authAxios$patc=_context4.sent;data=_yield$authAxios$patc.data;return _context4.abrupt(\"return\",data);case 5:case\"end\":return _context4.stop();}},_callee4);}));return function patchProfile(_x3){return _ref4.apply(this,arguments);};}();export var createPost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(form){var _yield$authAxios$post3,data;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return authAxios.post(\"/posts\",form);case 2:_yield$authAxios$post3=_context5.sent;data=_yield$authAxios$post3.data;return _context5.abrupt(\"return\",data);case 5:case\"end\":return _context5.stop();}},_callee5);}));return function createPost(_x4){return _ref5.apply(this,arguments);};}();export var getPostById=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var _yield$authAxios$get2,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return authAxios.get(\"/posts/\"+id);case 2:_yield$authAxios$get2=_context6.sent;data=_yield$authAxios$get2.data;return _context6.abrupt(\"return\",data);case 5:case\"end\":return _context6.stop();}},_callee6);}));return function getPostById(_x5){return _ref6.apply(this,arguments);};}();","map":{"version":3,"names":["axios","authAxios","create","baseURL","token","localStorage","getItem","console","log","defaults","headers","Authorization","signUpUser","form","post","data","alert","signIn","setItem","success","getCurrentUser","get","patchProfile","patch","createPost","getPostById","id"],"sources":["C:/Users/김아름/Desktop/index/instagram/src/api/auth.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const authAxios = axios.create({\r\n  baseURL: \"http://101.101.218.43\",\r\n});\r\n\r\nconst token = localStorage.getItem(\"access-token\");\r\n\r\nconsole.log(token);\r\n\r\nif (token) {\r\n  authAxios.defaults.headers.Authorization = `Bearer ${token}`;\r\n}\r\n\r\n// src/api/auth.js\r\nexport const signUpUser = async (form) => {\r\n  try {\r\n    const { data } = await authAxios.post(\"users\", form);\r\n\r\n    return data;\r\n  } catch (e) {\r\n    alert(\"회원가입에 실패했습니다.\");\r\n  }\r\n};\r\n\r\nexport const signIn = async (form) => {\r\n  try {\r\n    const { data } = await authAxios.post(\"users/signin\", form);\r\n\r\n    const { token } = data;\r\n\r\n    localStorage.setItem(\"access-token\", token);\r\n\r\n    authAxios.defaults.headers.Authorization = `Bearer ${token}`;\r\n\r\n    return { success: true };\r\n  } catch (e) {\r\n    alert(\"로그인에 실패했습니다.\");\r\n  }\r\n};\r\n\r\nexport const getCurrentUser = async () => {\r\n  let { data } = await authAxios.get(\"/users/current\");\r\n\r\n  return data;\r\n};\r\n\r\nexport const patchProfile = async (form) => {\r\n  let { data } = await authAxios.patch(\"/users/profile\", form);\r\n\r\n  return data;\r\n};\r\n\r\nexport const createPost = async (form) => {\r\n  let { data } = await authAxios.post(\"/posts\", form);\r\n  return data;\r\n};\r\n\r\nexport const getPostById = async (id) => {\r\n  let { data } = await authAxios.get(\"/posts/\" + id);\r\n\r\n  return data;\r\n};\r\n"],"mappings":"kSAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,MAAO,IAAMC,UAAS,CAAGD,KAAK,CAACE,MAAM,CAAC,CACpCC,OAAO,CAAE,uBACX,CAAC,CAAC,CAEF,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAElDC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC,CAElB,GAAIA,KAAK,CAAE,CACTH,SAAS,CAACQ,QAAQ,CAACC,OAAO,CAACC,aAAa,kBAAaP,KAAK,CAAE,CAC9D,CAEA;AACA,MAAO,IAAMQ,WAAU,4FAAG,iBAAOC,IAAI,wLAEVZ,UAAS,CAACa,IAAI,CAAC,OAAO,CAAED,IAAI,CAAC,4CAA5CE,IAAI,uBAAJA,IAAI,iCAELA,IAAI,0DAEXC,KAAK,CAAC,eAAe,CAAC,CAAC,mEAE1B,kBARYJ,WAAU,4CAQtB,CAED,MAAO,IAAMK,OAAM,6FAAG,kBAAOJ,IAAI,sMAENZ,UAAS,CAACa,IAAI,CAAC,cAAc,CAAED,IAAI,CAAC,8CAAnDE,IAAI,wBAAJA,IAAI,CAEJX,MAAK,CAAKW,IAAI,CAAdX,KAAK,CAEbC,YAAY,CAACa,OAAO,CAAC,cAAc,CAAEd,MAAK,CAAC,CAE3CH,SAAS,CAACQ,QAAQ,CAACC,OAAO,CAACC,aAAa,kBAAaP,MAAK,CAAE,CAAC,iCAEtD,CAAEe,OAAO,CAAE,IAAK,CAAC,+DAExBH,KAAK,CAAC,cAAc,CAAC,CAAC,sEAEzB,kBAdYC,OAAM,8CAclB,CAED,MAAO,IAAMG,eAAc,6FAAG,8LACPnB,UAAS,CAACoB,GAAG,CAAC,gBAAgB,CAAC,4CAA9CN,IAAI,sBAAJA,IAAI,kCAEHA,IAAI,yDACZ,kBAJYK,eAAc,2CAI1B,CAED,MAAO,IAAME,aAAY,6FAAG,kBAAOT,IAAI,6KAChBZ,UAAS,CAACsB,KAAK,CAAC,gBAAgB,CAAEV,IAAI,CAAC,6CAAtDE,IAAI,uBAAJA,IAAI,kCAEHA,IAAI,yDACZ,kBAJYO,aAAY,8CAIxB,CAED,MAAO,IAAME,WAAU,6FAAG,kBAAOX,IAAI,8KACdZ,UAAS,CAACa,IAAI,CAAC,QAAQ,CAAED,IAAI,CAAC,8CAA7CE,IAAI,wBAAJA,IAAI,kCACHA,IAAI,yDACZ,kBAHYS,WAAU,8CAGtB,CAED,MAAO,IAAMC,YAAW,6FAAG,kBAAOC,EAAE,6KACbzB,UAAS,CAACoB,GAAG,CAAC,SAAS,CAAGK,EAAE,CAAC,6CAA5CX,IAAI,uBAAJA,IAAI,kCAEHA,IAAI,yDACZ,kBAJYU,YAAW,8CAIvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}